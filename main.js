/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => PinnedEmojiPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  pinnedTabSize: 33,
  labelEmojiMap: [
    { label: "Home", emoji: "\u{1F3E0}" },
    { label: "Tasks", emoji: "\u{1F4CB}" },
    { label: "Books", emoji: "\u{1F4D6}" }
  ]
};
var DEFAULT_PIN_EMOJI = "\u{1F4CC}";
var COMMON_EMOJIS = {
  "\u2764\uFE0F Heart": "\u2764\uFE0F",
  "\u{1F916} Robot": "\u{1F916}",
  "\u{1F525} Fire": "\u{1F525}",
  "\u{1F4DA} Books": "\u{1F4DA}",
  "\u{1F389} Party": "\u{1F389}",
  "\u270F\uFE0F  Pencil": "\u270F\uFE0F",
  "\u{1F31F} Star": "\u{1F31F}",
  "\u{1F4A1} Idea": "\u{1F4A1}",
  "\u2705 Check": "\u2705",
  "\u{1F4CC} Pin": "\u{1F4CC}",
  "\u26A1 Lightning": "\u26A1"
};
var PinnedEmojiPlugin = class extends import_obsidian.Plugin {
  async onload() {
    console.log("Pinned Emoji Plugin loading...");
    await this.loadSettings();
    this.styleEl = document.createElement("style");
    document.head.appendChild(this.styleEl);
    this.generateDynamicCSS();
    this.addSettingTab(new PinnedEmojiSettingTab(this.app, this));
  }
  onunload() {
    var _a;
    console.log("Pinned Emoji Plugin unloading...");
    (_a = this.styleEl) == null ? void 0 : _a.remove();
  }
  /**
   * Load user settings from disk or use defaults.
   */
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
  }
  /**
   * Save user settings and regenerate dynamic CSS.
   */
  async saveSettings() {
    await this.saveData(this.settings);
    this.generateDynamicCSS();
  }
  /**
   * Build CSS that customizes pinned tabs:
   * - Sets pinned tab width.
   * - Replaces pinned tab labels with user-chosen emojis.
   * - Adds default "ðŸ“Œ" emoji for unmapped pinned tabs.
   */
  generateDynamicCSS() {
    let css = `
      .workspace-tab-header:has(.mod-pinned) {
        max-width: ${this.settings.pinnedTabSize}px !important;
      }

      .workspace-tab-header:has(.mod-pinned) .workspace-tab-header-inner-title {
        text-overflow: clip !important;
        visibility: hidden !important;
        position: relative;
      }

      .workspace-tab-header:has(.mod-pinned) .workspace-tab-header-status-container {
        display: none !important;
      }

      .workspace-tab-header:has(.mod-pinned) .workspace-tab-header-inner-title::after {
        visibility: visible !important;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 1.3em;
        line-height: 1;
        display: block;
        color: inherit;
        content: "${DEFAULT_PIN_EMOJI}"; /* Default to pin emoji */
      }
    `;
    for (const pair of this.settings.labelEmojiMap) {
      const safeLabel = pair.label.replace(/"/g, '\\"');
      css += `
        .workspace-tab-header:has(.mod-pinned)[aria-label="${safeLabel}"]
          .workspace-tab-header-inner-title::after {
          content: "${pair.emoji}";
        }
      `;
    }
    this.styleEl.textContent = css;
  }
};
var FilePickerModal = class extends import_obsidian.FuzzySuggestModal {
  constructor(app, onChooseItemCallback) {
    super(app);
    this.onChooseItemCallback = onChooseItemCallback;
  }
  getItems() {
    return this.app.vault.getFiles();
  }
  getItemText(item) {
    return item.path;
  }
  onChooseItem(item) {
    this.onChooseItemCallback(item);
  }
};
var PinnedEmojiSettingTab = class extends import_obsidian.PluginSettingTab {
  // For the chosen emoji
  constructor(app, plugin) {
    super(app, plugin);
    /** 
     * Temporary storage while user picks a file + chooses an emoji
     * before actually adding the mapping.
     */
    this.tempLabel = null;
    // For the file label
    this.tempEmoji = null;
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Pinned Tab Settings" });
    new import_obsidian.Setting(containerEl).setName("Pinned Tab Width").setDesc(`Max width for pinned tabs. Currently: ${this.plugin.settings.pinnedTabSize}px`).addSlider((slider) => {
      slider.setLimits(20, 80, 1).setDynamicTooltip().setValue(this.plugin.settings.pinnedTabSize).onChange(async (val) => {
        this.plugin.settings.pinnedTabSize = val;
        await this.plugin.saveSettings();
      });
    });
    containerEl.createEl("h1", { text: "Current Mappings" });
    new import_obsidian.Setting(containerEl).setName("Reset Settings").setDesc("Restore all settings to their default values.").addButton((btn) => {
      btn.setIcon("refresh-cw").setButtonText("Reset").setWarning().onClick(async () => {
        console.log("Settings reset to defaults.");
        this.plugin.settings = DEFAULT_SETTINGS;
        await this.plugin.saveSettings();
        this.display();
        new import_obsidian.Notice("Settings have been reset to their defaults.");
      });
    });
    this.plugin.settings.labelEmojiMap.forEach((mapping, index) => {
      const details = containerEl.createEl("details");
      details.createEl("summary", { text: mapping.label });
      new import_obsidian.Setting(details).setName("File Label").setDesc("The pinned tab label or file name.").addText((text) => {
        text.setValue(mapping.label).onChange(async (val) => {
          mapping.label = val;
          await this.plugin.saveSettings();
        });
      });
      new import_obsidian.Setting(details).setName("Emoji").setDesc("Which emoji to display for this pinned tab.").addDropdown((dropdown) => {
        dropdown.addOption("", "\u2014 Pick an emoji \u2014");
        for (const [label, emoji] of Object.entries(COMMON_EMOJIS)) {
          dropdown.addOption(emoji, `${label} (${emoji})`);
        }
        dropdown.addOption("other", "Type your own...");
        dropdown.setValue(
          Object.values(COMMON_EMOJIS).includes(mapping.emoji) ? mapping.emoji : "other"
        );
        dropdown.onChange(async (val) => {
          if (val === "other") {
          } else {
            mapping.emoji = val;
            await this.plugin.saveSettings();
            this.display();
          }
        });
      }).addText((text) => {
        text.setPlaceholder("Or paste your own emoji").setValue(mapping.emoji).onChange(async (val) => {
          mapping.emoji = val;
          await this.plugin.saveSettings();
        });
      });
      new import_obsidian.Setting(details).addButton((btn) => {
        btn.setButtonText("Remove Mapping").setWarning().onClick(async () => {
          this.plugin.settings.labelEmojiMap.splice(index, 1);
          await this.plugin.saveSettings();
          this.display();
        });
      });
    });
    containerEl.createEl("h1", { text: "Add a New Mapping" });
    new import_obsidian.Setting(containerEl).setName("Pick a File").setDesc(this.tempLabel ? `Chosen: ${this.tempLabel}` : "No file chosen yet.").addButton((btn) => {
      btn.setButtonText("Choose File").onClick(() => {
        new FilePickerModal(this.app, (file) => {
          const label = file.name.replace(/\.md$/, "");
          this.tempLabel = label;
          this.display();
        }).open();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Choose an Emoji").setDesc(this.tempEmoji ? `Emoji: ${this.tempEmoji}` : "No emoji chosen yet.").addDropdown((dropdown) => {
      dropdown.addOption("", "\u2014 Pick an emoji \u2014");
      for (const [label, emoji] of Object.entries(COMMON_EMOJIS)) {
        dropdown.addOption(emoji, `${label} (${emoji})`);
      }
      dropdown.setValue("");
      dropdown.onChange((val) => {
        if (val !== "") {
          this.tempEmoji = val;
          this.display();
        }
      });
    }).addText((text) => {
      text.setPlaceholder("Or put your own emoji").setValue(this.tempEmoji || "").onChange((val) => {
        this.tempEmoji = val;
        this.display();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Add Mapping").setDesc("When both file & emoji are chosen, click to add.").addButton((btn) => {
      btn.setButtonText("Add Mapping").setCta().onClick(async () => {
        if (!this.tempLabel || !this.tempEmoji) {
          new import_obsidian.Notice("Please choose both a file and an emoji first!");
          return;
        }
        this.plugin.settings.labelEmojiMap.push({
          label: this.tempLabel,
          emoji: this.tempEmoji
        });
        await this.plugin.saveSettings();
        this.tempLabel = null;
        this.tempEmoji = null;
        this.display();
        new import_obsidian.Notice("New mapping added!");
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgUGx1Z2luLFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBGdXp6eVN1Z2dlc3RNb2RhbCxcbiAgICBURmlsZSxcbiAgICBOb3RpY2UsXG4gIH0gZnJvbSAnb2JzaWRpYW4nO1xuICBcbiAgLyoqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqICBJTlRFUkZBQ0VTICYgREVGQVVMVFNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgaW50ZXJmYWNlIExhYmVsRW1vamlQYWlyIHtcbiAgICBsYWJlbDogc3RyaW5nOyAvLyBUaGUgcGlubmVkIHRhYidzIGFyaWEtbGFiZWwgb3IgZmlsZSBuYW1lXG4gICAgZW1vamk6IHN0cmluZzsgLy8gVGhlIGVtb2ppIHRvIGRpc3BsYXkgZm9yIHRoaXMgbGFiZWxcbiAgfVxuICBcbiAgaW50ZXJmYWNlIFBpbm5lZEVtb2ppU2V0dGluZ3Mge1xuICAgIHBpbm5lZFRhYlNpemU6IG51bWJlcjsgICAgICAgICAgLy8gTWF4IHdpZHRoIGluIHB4IGZvciBwaW5uZWQgdGFic1xuICAgIGxhYmVsRW1vamlNYXA6IExhYmVsRW1vamlQYWlyW107IC8vIENvbGxlY3Rpb24gb2YgZmlsZVx1MjE5MmVtb2ppIG1hcHBpbmdzXG4gIH1cbiAgXG4gIGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBpbm5lZEVtb2ppU2V0dGluZ3MgPSB7XG4gICAgcGlubmVkVGFiU2l6ZTogMzMsXG4gICAgbGFiZWxFbW9qaU1hcDogW1xuICAgICAgICB7IGxhYmVsOiAnSG9tZScsICAgZW1vamk6ICdcdUQ4M0NcdURGRTAnIH0sXG4gICAgICAgIHsgbGFiZWw6ICdUYXNrcycsICAgZW1vamk6ICdcdUQ4M0RcdURDQ0InIH0sXG4gICAgICAgIHsgbGFiZWw6ICdCb29rcycsICAgICBlbW9qaTogJ1x1RDgzRFx1RENENicgfSxcbiAgICBdLFxuICB9O1xuXG4gIGNvbnN0IERFRkFVTFRfUElOX0VNT0pJID0gJ1x1RDgzRFx1RENDQyc7IC8vIERlZmF1bHQgZW1vamkgZm9yIHVubWFwcGVkIHBpbm5lZCB0YWJzXG4gIFxuICAvKiogXG4gICAqIEEgc2hvcnQgbGlzdCBvZiBwb3B1bGFyIGVtb2ppcyBmb3IgcXVpY2sgc2VsZWN0aW9uLlxuICAgKiBZb3UgY2FuIGFkZCwgcmVtb3ZlLCBvciByZXBsYWNlIHRoZXNlIHdpdGggeW91ciBvd24uXG4gICAqL1xuICBjb25zdCBDT01NT05fRU1PSklTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICdcdTI3NjRcdUZFMEYgSGVhcnQnOiAnXHUyNzY0XHVGRTBGJyxcbiAgICAnXHVEODNFXHVERDE2IFJvYm90JzogJ1x1RDgzRVx1REQxNicsXG4gICAgJ1x1RDgzRFx1REQyNSBGaXJlJzogJ1x1RDgzRFx1REQyNScsXG4gICAgJ1x1RDgzRFx1RENEQSBCb29rcyc6ICdcdUQ4M0RcdURDREEnLFxuICAgICdcdUQ4M0NcdURGODkgUGFydHknOiAnXHVEODNDXHVERjg5JyxcbiAgICAnXHUyNzBGXHVGRTBGICBQZW5jaWwnOiAnXHUyNzBGXHVGRTBGJyxcbiAgICAnXHVEODNDXHVERjFGIFN0YXInOiAnXHVEODNDXHVERjFGJyxcbiAgICAnXHVEODNEXHVEQ0ExIElkZWEnOiAnXHVEODNEXHVEQ0ExJyxcbiAgICAnXHUyNzA1IENoZWNrJzogJ1x1MjcwNScsXG4gICAgJ1x1RDgzRFx1RENDQyBQaW4nOiAnXHVEODNEXHVEQ0NDJyxcbiAgICAnXHUyNkExIExpZ2h0bmluZyc6ICdcdTI2QTEnLFxuICB9O1xuICBcbiAgLyoqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqICBNQUlOIFBMVUdJTiBDTEFTU1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICBleHBvcnQgZGVmYXVsdCBjbGFzcyBQaW5uZWRFbW9qaVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IFBpbm5lZEVtb2ppU2V0dGluZ3M7XG4gICAgc3R5bGVFbDogSFRNTFN0eWxlRWxlbWVudDtcbiAgXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgY29uc29sZS5sb2coJ1Bpbm5lZCBFbW9qaSBQbHVnaW4gbG9hZGluZy4uLicpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgXG4gICAgICAvLyBDcmVhdGUgYSA8c3R5bGU+IGVsZW1lbnQgZm9yIG91ciBkeW5hbWljIENTUy5cbiAgICAgIHRoaXMuc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVFbCk7XG4gIFxuICAgICAgLy8gR2VuZXJhdGUgQ1NTIGJhc2VkIG9uIGN1cnJlbnQgc2V0dGluZ3MuXG4gICAgICB0aGlzLmdlbmVyYXRlRHluYW1pY0NTUygpO1xuICBcbiAgICAgIC8vIFJlZ2lzdGVyIHRoZSBwbHVnaW4ncyBzZXR0aW5ncyB0YWIuXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFBpbm5lZEVtb2ppU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuICAgIH1cbiAgXG4gICAgb251bmxvYWQoKSB7XG4gICAgICBjb25zb2xlLmxvZygnUGlubmVkIEVtb2ppIFBsdWdpbiB1bmxvYWRpbmcuLi4nKTtcbiAgICAgIHRoaXMuc3R5bGVFbD8ucmVtb3ZlKCk7XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBMb2FkIHVzZXIgc2V0dGluZ3MgZnJvbSBkaXNrIG9yIHVzZSBkZWZhdWx0cy5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGRhdGEpO1xuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogU2F2ZSB1c2VyIHNldHRpbmdzIGFuZCByZWdlbmVyYXRlIGR5bmFtaWMgQ1NTLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgICB0aGlzLmdlbmVyYXRlRHluYW1pY0NTUygpO1xuICAgIH1cbiAgXG5cblxuICAvKipcbiAgICogQnVpbGQgQ1NTIHRoYXQgY3VzdG9taXplcyBwaW5uZWQgdGFiczpcbiAgICogLSBTZXRzIHBpbm5lZCB0YWIgd2lkdGguXG4gICAqIC0gUmVwbGFjZXMgcGlubmVkIHRhYiBsYWJlbHMgd2l0aCB1c2VyLWNob3NlbiBlbW9qaXMuXG4gICAqIC0gQWRkcyBkZWZhdWx0IFwiXHVEODNEXHVEQ0NDXCIgZW1vamkgZm9yIHVubWFwcGVkIHBpbm5lZCB0YWJzLlxuICAgKi9cbiAgZ2VuZXJhdGVEeW5hbWljQ1NTKCkge1xuICAgIGxldCBjc3MgPSBgXG4gICAgICAud29ya3NwYWNlLXRhYi1oZWFkZXI6aGFzKC5tb2QtcGlubmVkKSB7XG4gICAgICAgIG1heC13aWR0aDogJHt0aGlzLnNldHRpbmdzLnBpbm5lZFRhYlNpemV9cHggIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLndvcmtzcGFjZS10YWItaGVhZGVyOmhhcygubW9kLXBpbm5lZCkgLndvcmtzcGFjZS10YWItaGVhZGVyLWlubmVyLXRpdGxlIHtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogY2xpcCAhaW1wb3J0YW50O1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuXG4gICAgICAud29ya3NwYWNlLXRhYi1oZWFkZXI6aGFzKC5tb2QtcGlubmVkKSAud29ya3NwYWNlLXRhYi1oZWFkZXItc3RhdHVzLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLndvcmtzcGFjZS10YWItaGVhZGVyOmhhcygubW9kLXBpbm5lZCkgLndvcmtzcGFjZS10YWItaGVhZGVyLWlubmVyLXRpdGxlOjphZnRlciB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgZm9udC1zaXplOiAxLjNlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgY29udGVudDogXCIke0RFRkFVTFRfUElOX0VNT0pJfVwiOyAvKiBEZWZhdWx0IHRvIHBpbiBlbW9qaSAqL1xuICAgICAgfVxuICAgIGA7XG5cbiAgICAvLyBBcHBlbmQgcnVsZXMgZm9yIGVhY2ggbGFiZWwgXHUyMTkyIGVtb2ppIG1hcHBpbmdcbiAgICBmb3IgKGNvbnN0IHBhaXIgb2YgdGhpcy5zZXR0aW5ncy5sYWJlbEVtb2ppTWFwKSB7XG4gICAgICBjb25zdCBzYWZlTGFiZWwgPSBwYWlyLmxhYmVsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKTtcbiAgICAgIGNzcyArPSBgXG4gICAgICAgIC53b3Jrc3BhY2UtdGFiLWhlYWRlcjpoYXMoLm1vZC1waW5uZWQpW2FyaWEtbGFiZWw9XCIke3NhZmVMYWJlbH1cIl1cbiAgICAgICAgICAud29ya3NwYWNlLXRhYi1oZWFkZXItaW5uZXItdGl0bGU6OmFmdGVyIHtcbiAgICAgICAgICBjb250ZW50OiBcIiR7cGFpci5lbW9qaX1cIjtcbiAgICAgICAgfVxuICAgICAgYDtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlRWwudGV4dENvbnRlbnQgPSBjc3M7XG4gIH1cbn1cbiAgLyoqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqICBGSUxFIFBJQ0tFUiBNT0RBTFxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBBIGZ1enp5IHNlYXJjaCBmb3IgY2hvb3NpbmcgYSBmaWxlIGZyb20gdGhlIHZhdWx0LlxuICAgKi9cbiAgY2xhc3MgRmlsZVBpY2tlck1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8VEZpbGU+IHtcbiAgICBvbkNob29zZUl0ZW1DYWxsYmFjazogKGZpbGU6IFRGaWxlKSA9PiB2b2lkO1xuICBcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25DaG9vc2VJdGVtQ2FsbGJhY2s6IChmaWxlOiBURmlsZSkgPT4gdm9pZCkge1xuICAgICAgc3VwZXIoYXBwKTtcbiAgICAgIHRoaXMub25DaG9vc2VJdGVtQ2FsbGJhY2sgPSBvbkNob29zZUl0ZW1DYWxsYmFjaztcbiAgICB9XG4gIFxuICAgIGdldEl0ZW1zKCk6IFRGaWxlW10ge1xuICAgICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG4gICAgfVxuICBcbiAgICBnZXRJdGVtVGV4dChpdGVtOiBURmlsZSk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gaXRlbS5wYXRoO1xuICAgIH1cbiAgXG4gICAgb25DaG9vc2VJdGVtKGl0ZW06IFRGaWxlKSB7XG4gICAgICB0aGlzLm9uQ2hvb3NlSXRlbUNhbGxiYWNrKGl0ZW0pO1xuICAgIH1cbiAgfVxuICBcbiAgLyoqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqICBTRVRUSU5HUyBUQUJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQSBzaW5nbGUgc2V0dGluZ3MgdGFiIGZvciBjb250cm9sbGluZzpcbiAgICogLSBwaW5uZWQgdGFiIHdpZHRoXG4gICAqIC0gZmlsZSBcdTIxOTIgZW1vamkgbWFwcGluZ3NcbiAgICovXG4gIGNsYXNzIFBpbm5lZEVtb2ppU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogUGlubmVkRW1vamlQbHVnaW47XG4gIFxuICAgIC8qKiBcbiAgICAgKiBUZW1wb3Jhcnkgc3RvcmFnZSB3aGlsZSB1c2VyIHBpY2tzIGEgZmlsZSArIGNob29zZXMgYW4gZW1vamlcbiAgICAgKiBiZWZvcmUgYWN0dWFsbHkgYWRkaW5nIHRoZSBtYXBwaW5nLlxuICAgICAqL1xuICAgIHByaXZhdGUgdGVtcExhYmVsOiBzdHJpbmcgfCBudWxsID0gbnVsbDsgIC8vIEZvciB0aGUgZmlsZSBsYWJlbFxuICAgIHByaXZhdGUgdGVtcEVtb2ppOiBzdHJpbmcgfCBudWxsID0gbnVsbDsgIC8vIEZvciB0aGUgY2hvc2VuIGVtb2ppXG4gIFxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFBpbm5lZEVtb2ppUGx1Z2luKSB7XG4gICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG4gIFxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgXG4gICAgICAvLyBIZWFkaW5nXG4gICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdQaW5uZWQgVGFiIFNldHRpbmdzJyB9KTtcbiAgXG4gICAgICAvLyAxKSBTbGlkZXI6IFBpbm5lZCBUYWIgV2lkdGhcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAuc2V0TmFtZSgnUGlubmVkIFRhYiBXaWR0aCcpXG4gICAgICAgIC5zZXREZXNjKGBNYXggd2lkdGggZm9yIHBpbm5lZCB0YWJzLiBDdXJyZW50bHk6ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MucGlubmVkVGFiU2l6ZX1weGApXG4gICAgICAgIC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xuICAgICAgICAgIHNsaWRlclxuICAgICAgICAgICAgLnNldExpbWl0cygyMCwgODAsIDEpXG4gICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBpbm5lZFRhYlNpemUpXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5waW5uZWRUYWJTaXplID0gdmFsO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAvLyAyKSBFeGlzdGluZyBNYXBwaW5nc1xuICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQ3VycmVudCBNYXBwaW5ncycgfSk7XG4gIFxuICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgIC5zZXROYW1lKCdSZXNldCBTZXR0aW5ncycpXG4gICAgICAgIC5zZXREZXNjKCdSZXN0b3JlIGFsbCBzZXR0aW5ncyB0byB0aGVpciBkZWZhdWx0IHZhbHVlcy4nKVxuICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+IHtcbiAgICAgICAgICAgIGJ0blxuICAgICAgICAgICAgLnNldEljb24oJ3JlZnJlc2gtY3cnKSAvLyBVc2UgTHVjaWRlIGljb25zIChlLmcuLCByZWZyZXNoLWN3IGZvciByZXNldClcbiAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdSZXNldCcpXG4gICAgICAgICAgICAuc2V0V2FybmluZygpIC8vIE1ha2VzIHRoZSBidXR0b24gc3R5bGVkIGFzIGEgd2FybmluZ1xuICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5ncyByZXNldCB0byBkZWZhdWx0cy4nKTtcbiAgICAgICAgICAgICAgICAvLyBMb2dpYyBmb3IgcmVzZXR0aW5nIHNldHRpbmdzIGhlcmVcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncyA9IERFRkFVTFRfU0VUVElOR1M7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTaG93IGEgbm90aWNlIHRvIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnU2V0dGluZ3MgaGF2ZSBiZWVuIHJlc2V0IHRvIHRoZWlyIGRlZmF1bHRzLicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBMaXN0IGV4aXN0aW5nIG1hcHBpbmdzIGluIGNvbGxhcHNpYmxlIHNlY3Rpb25zXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYWJlbEVtb2ppTWFwLmZvckVhY2goKG1hcHBpbmcsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBjb250YWluZXJFbC5jcmVhdGVFbCgnZGV0YWlscycpO1xuICAgICAgICBkZXRhaWxzLmNyZWF0ZUVsKCdzdW1tYXJ5JywgeyB0ZXh0OiBtYXBwaW5nLmxhYmVsIH0pO1xuICBcbiAgICAgICAgLy8gRWRpdCBMYWJlbFxuICAgICAgICBuZXcgU2V0dGluZyhkZXRhaWxzKVxuICAgICAgICAgIC5zZXROYW1lKCdGaWxlIExhYmVsJylcbiAgICAgICAgICAuc2V0RGVzYygnVGhlIHBpbm5lZCB0YWIgbGFiZWwgb3IgZmlsZSBuYW1lLicpXG4gICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgLnNldFZhbHVlKG1hcHBpbmcubGFiZWwpXG4gICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFwcGluZy5sYWJlbCA9IHZhbDtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAvLyBFZGl0IEVtb2ppXG4gICAgICAgIG5ldyBTZXR0aW5nKGRldGFpbHMpXG4gICAgICAgICAgLnNldE5hbWUoJ0Vtb2ppJylcbiAgICAgICAgICAuc2V0RGVzYygnV2hpY2ggZW1vamkgdG8gZGlzcGxheSBmb3IgdGhpcyBwaW5uZWQgdGFiLicpXG4gICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgLy8gQWRkIGEgZGVmYXVsdCAoZW1wdHkpIG9wdGlvbiBhbmQgdGhlIGNvbW1vbiBlbW9qaXNcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ1x1MjAxNCBQaWNrIGFuIGVtb2ppIFx1MjAxNCcpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbbGFiZWwsIGVtb2ppXSBvZiBPYmplY3QuZW50cmllcyhDT01NT05fRU1PSklTKSkge1xuICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oZW1vamksIGAke2xhYmVsfSAoJHtlbW9qaX0pYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbHNvIHNldCBhbiBcIk90aGVyXCIgb3B0aW9uIGlmIHVzZXIgd2FudHMgdG8gdHlwZSB0aGVpciBvd25cbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignb3RoZXInLCAnVHlwZSB5b3VyIG93bi4uLicpO1xuICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUoXG4gICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoQ09NTU9OX0VNT0pJUykuaW5jbHVkZXMobWFwcGluZy5lbW9qaSkgPyBtYXBwaW5nLmVtb2ppIDogJ290aGVyJ1xuICAgICAgICAgICAgKTtcbiAgXG4gICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh2YWwgPT09ICdvdGhlcicpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIHBpY2tzIFwib3RoZXIsXCIgZG8gbm90aGluZyBcdTIwMTQgd2UnbGwgcmVseSBvbiB0aGUgdGV4dCBmaWVsZCBiZWxvdy5cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmVtb2ppID0gdmFsO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpOyAvLyByZWZyZXNoIHRvIHNob3cgdXBkYXRlZCB0ZXh0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdPciBwYXN0ZSB5b3VyIG93biBlbW9qaScpXG4gICAgICAgICAgICAgIC5zZXRWYWx1ZShtYXBwaW5nLmVtb2ppKVxuICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgIG1hcHBpbmcuZW1vamkgPSB2YWw7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgLy8gUmVtb3ZlIE1hcHBpbmdcbiAgICAgICAgbmV3IFNldHRpbmcoZGV0YWlscylcbiAgICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+IHtcbiAgICAgICAgICAgIGJ0blxuICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnUmVtb3ZlIE1hcHBpbmcnKVxuICAgICAgICAgICAgICAuc2V0V2FybmluZygpXG4gICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYWJlbEVtb2ppTWFwLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIFxuICAgICAgLy8gMykgQWRkIGEgTmV3IE1hcHBpbmdcbiAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ0FkZCBhIE5ldyBNYXBwaW5nJyB9KTtcbiAgXG4gICAgICAvLyBTdGVwIDE6IFBpY2sgYSBmaWxlXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgLnNldE5hbWUoJ1BpY2sgYSBGaWxlJylcbiAgICAgICAgLnNldERlc2ModGhpcy50ZW1wTGFiZWwgPyBgQ2hvc2VuOiAke3RoaXMudGVtcExhYmVsfWAgOiAnTm8gZmlsZSBjaG9zZW4geWV0LicpXG4gICAgICAgIC5hZGRCdXR0b24oKGJ0bikgPT4ge1xuICAgICAgICAgIGJ0blxuICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoJ0Nob29zZSBGaWxlJylcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgbmV3IEZpbGVQaWNrZXJNb2RhbCh0aGlzLmFwcCwgKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgLm1kIGV4dGVuc2lvbiBmcm9tIHRoZSBmaWxlIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5tZCQvLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wTGFiZWwgPSBsYWJlbDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgVUlcbiAgICAgICAgICAgICAgfSkub3BlbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICBcbiAgICAgIC8vIFN0ZXAgMjogQ2hvb3NlIGFuIGVtb2ppXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgLnNldE5hbWUoJ0Nob29zZSBhbiBFbW9qaScpXG4gICAgICAgIC5zZXREZXNjKHRoaXMudGVtcEVtb2ppID8gYEVtb2ppOiAke3RoaXMudGVtcEVtb2ppfWAgOiAnTm8gZW1vamkgY2hvc2VuIHlldC4nKVxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCcnLCAnXHUyMDE0IFBpY2sgYW4gZW1vamkgXHUyMDE0Jyk7XG4gICAgICAgICAgZm9yIChjb25zdCBbbGFiZWwsIGVtb2ppXSBvZiBPYmplY3QuZW50cmllcyhDT01NT05fRU1PSklTKSkge1xuICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKGVtb2ppLCBgJHtsYWJlbH0gKCR7ZW1vaml9KWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSgnJyk7XG4gIFxuICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWwgIT09ICcnKSB7XG4gICAgICAgICAgICAgIHRoaXMudGVtcEVtb2ppID0gdmFsO1xuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ09yIHB1dCB5b3VyIG93biBlbW9qaScpXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy50ZW1wRW1vamkgfHwgJycpIC8vIFNob3cgY3VycmVudCBlbW9qaShzKSBpbiB0ZXh0IGlucHV0XG4gICAgICAgICAgICAub25DaGFuZ2UoKHZhbCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRlbXBFbW9qaSA9IHZhbDtcbiAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7IC8vIHNob3cgdGhlIG5ld2x5IHR5cGVkIGVtb2ppIGluIHRoZSBkZXNjXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgLy8gU3RlcCAzOiBBZGQgdGhlIG1hcHBpbmcgb25jZSBib3RoIGFyZSBjaG9zZW5cbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAuc2V0TmFtZSgnQWRkIE1hcHBpbmcnKVxuICAgICAgICAuc2V0RGVzYygnV2hlbiBib3RoIGZpbGUgJiBlbW9qaSBhcmUgY2hvc2VuLCBjbGljayB0byBhZGQuJylcbiAgICAgICAgLmFkZEJ1dHRvbigoYnRuKSA9PiB7XG4gICAgICAgICAgYnRuXG4gICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnQWRkIE1hcHBpbmcnKVxuICAgICAgICAgICAgLnNldEN0YSgpXG4gICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghdGhpcy50ZW1wTGFiZWwgfHwgIXRoaXMudGVtcEVtb2ppKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGNob29zZSBib3RoIGEgZmlsZSBhbmQgYW4gZW1vamkgZmlyc3QhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtYXBwaW5nXG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhYmVsRW1vamlNYXAucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMudGVtcExhYmVsLFxuICAgICAgICAgICAgICAgIGVtb2ppOiB0aGlzLnRlbXBFbW9qaSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICBcbiAgICAgICAgICAgICAgLy8gUmVzZXQgdGVtcCBmaWVsZHNcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGFiZWwgPSBudWxsO1xuICAgICAgICAgICAgICB0aGlzLnRlbXBFbW9qaSA9IG51bGw7XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgICAgICAgICAgICBuZXcgTm90aWNlKCdOZXcgbWFwcGluZyBhZGRlZCEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbiAgIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQVFTO0FBZVAsSUFBTSxtQkFBd0M7QUFBQSxFQUM1QyxlQUFlO0FBQUEsRUFDZixlQUFlO0FBQUEsSUFDWCxFQUFFLE9BQU8sUUFBVSxPQUFPLFlBQUs7QUFBQSxJQUMvQixFQUFFLE9BQU8sU0FBVyxPQUFPLFlBQUs7QUFBQSxJQUNoQyxFQUFFLE9BQU8sU0FBYSxPQUFPLFlBQUs7QUFBQSxFQUN0QztBQUNGO0FBRUEsSUFBTSxvQkFBb0I7QUFNMUIsSUFBTSxnQkFBd0M7QUFBQSxFQUM1QyxzQkFBWTtBQUFBLEVBQ1osbUJBQVk7QUFBQSxFQUNaLGtCQUFXO0FBQUEsRUFDWCxtQkFBWTtBQUFBLEVBQ1osbUJBQVk7QUFBQSxFQUNaLHdCQUFjO0FBQUEsRUFDZCxrQkFBVztBQUFBLEVBQ1gsa0JBQVc7QUFBQSxFQUNYLGdCQUFXO0FBQUEsRUFDWCxpQkFBVTtBQUFBLEVBQ1Ysb0JBQWU7QUFDakI7QUFLQSxJQUFxQixvQkFBckIsY0FBK0MsdUJBQU87QUFBQSxFQUlwRCxNQUFNLFNBQVM7QUFDYixZQUFRLElBQUksZ0NBQWdDO0FBQzVDLFVBQU0sS0FBSyxhQUFhO0FB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
